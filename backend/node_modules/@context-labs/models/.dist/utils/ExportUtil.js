"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const json2csv_1 = require("json2csv");
function fromJson(fields, data) {
    return new Promise((resolve, reject) => {
        const params = { fields };
        const options = {};
        const json = JSON.stringify(data);
        const parser = new json2csv_1.AsyncParser(params, options);
        let file = '';
        parser.processor
            .on('data', (data) => {
            file += data.toString();
        })
            .on('end', () => resolve(file))
            .on('error', (err) => reject(err));
        parser.input.push(json);
        // Must push null at the end
        parser.input.push(null);
    });
}
const ExportUtil = {
    fromJson,
};
exports.default = ExportUtil;
//# sourceMappingURL=ExportUtil.js.map